<body>
    <h1>WebSocket Client</h1>
    <input type="text" id="queryInput" placeholder="Enter your query">
    <button onclick="sendQuery()">Send Query</button>
    <div id="responseOutput"></div>

    <script>
        const ws = new WebSocket('ws://localhost:3000'); // Use the correct WebSocket server address

        ws.onopen = () =>
        {
            console.log('WebSocket connection established');
        };

        ws.onmessage = (event) =>
        {
            const data = JSON.parse(event.data);
            if (data.response)
            {
                document.getElementById('responseOutput').innerText = `Response: ${data.response.response}`;
            } else if (data.error)
            {
                document.getElementById('responseOutput').innerText = `Error: ${data.error}`;
            }
        };

        function sendQuery()
        {
            const query = document.getElementById('queryInput').value;
            const vectorstore = 'TestSuite';
            ws.send(JSON.stringify({ query,vectorstore }));
        }
    </script>
</body>